<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>论坛 - 校园水电管家</title>

    <!-- DNS预解析 -->
    <link rel="dns-prefetch" href="https://cdn.bootcdn.net">

    <!-- 预加载关键 CSS -->
    <link rel="preload" href="css/main.css" as="style">
    <link rel="preload" href="css/forum-posts.css" as="style">

    <!-- 预加载关键图片 -->
    <link rel="preload" href="assets/images/logo.png" as="image" fetchpriority="high">
    <link rel="preload" href="assets/images/avatar.png" as="image" fetchpriority="high">

    <!-- 加载 CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/forum-posts.css">

    <!-- 延迟加载 JavaScript -->
    <script src="js/forum-posts.js" defer></script>
</head>
<body>
<div class="layout">
    <!-- 侧边栏 -->
    <aside class="sidebar">
        <div class="logo">
            <!-- 添加懒加载 -->
            <img src="assets/images/logo.png" alt="校园水电管家LOGO" width="160" height="70" loading="lazy">
            <h2>校园水电管家</h2>
        </div>
        <nav class="menu">
            <ul>
                <li><a href="main.html">首页</a></li>
                <li class="submenu">
                    <a href="#">水电管理</a>
                    <ul>
                        <li><a href="bill-history.html">历史水电费账单</a></li>
                        <li><a href="bill-payment.html">水电费缴纳</a></li>
                        <li><a href="bill-analysis.html">水电费分析</a></li>
                        <li><a href="bill-preset.html">水电费预设置</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#">校园水电论坛</a>
                    <ul>
                        <li class="active"><a href="forum-posts.html">帖子</a></li>

                        <li><a href="forum-post.html">发帖</a></li>
                    </ul>
                </li>
                <li><a href="feedback.html">反馈</a></li>
                <li><a href="announcement.html">公告</a></li>
                <li><a href="ranking.html">排行榜</a></li>
                <li><a href="settings.html">设置</a></li>
            </ul>
        </nav>
    </aside>

    <!-- 主要内容区 -->
    <main class="main-content">
        <!-- 顶部栏 -->
        <header class="top-bar">
            <h1>校园水电管家</h1>
            <div class="user-info">
                <!-- 懒加载头像图片 -->
                <img src="assets/images/avatar.png" alt="用户头像" class="avatar" loading="lazy">
                <span class="username">张三</span>
                <button class="logout-btn">退出登录</button>
            </div>
        </header>

        <!-- 论坛内容区 -->
        <div class="forum-container">
            <!-- 顶部操作栏 -->
            <div class="forum-header">
                <div class="search-box">
                    <input type="text" placeholder="搜索帖子..." aria-label="搜索帖子">
                    <button class="search-btn">搜索</button>
                </div>
                <button class="new-post-btn" onclick="window.location.href='forum-post.html'">发布新帖</button>
            </div>

            <!-- 帖子列表 -->
            <!-- <div class="posts-list"> -->
                <!-- 帖子项 -->
                <!-- <div class="post-item" data-id="example-1">
                    <div class="post-avatar">
                        <img src="assets/images/avatar.png" alt="用户头像" loading="lazy">
                    </div>
                    <div class="post-content">
                        <div class="post-title">
                            <h3>分享一些节约用电的小技巧</h3>
                            <span class="post-tag">节能技巧</span>
                        </div>
                        <div class="post-info">
                            <span class="author">作者：张三</span>
                            <span class="time">发布时间：2024-03-19 14:30</span>
                            <span class="views">浏览：128</span>
                            <span class="comments">评论：12</span>
                        </div>
                        <p class="post-preview">大家好，我总结了一些实用的节电方法，希望对大家有帮助...</p>
                    </div>
                </div>
            </div> -->


            <!-- 帖子列表 -->
            <div class="posts-list"></div>

            <!-- 分页控件 -->
            <div class="pagination"></div>

        </div>
    </main>
</div>

<!-- 页面加载时执行文章列表加载 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        getArticleList(1, 0); // 默认加载第一页文章，按默认排序
    });
</script>

</body>
</html>
